(self.webpackChunk=self.webpackChunk||[]).push([[267],{79928:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a={methods:{findSubPageSource:function(){switch(this.$store.state.sticky.subPageSource){case"books":return this.$store.state.library.books||this.$store.commit("stickyProp",{key:"subPageSource",value:"wishlist"}),this.$store.state.library.books||this.$store.state.library.wishlist;case"wishlist":return this.$store.state.library.wishlist||this.$store.commit("stickyProp",{key:"subPageSource",value:"books"}),this.$store.state.library.wishlist||this.$store.state.library.books}}}}},74662:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a}),s(82759),s(40895),s(72482),s(911),s(63238);const a={methods:{slugify:function(e){var t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",s=new RegExp(t.split("").join("|"),"g");return encodeURIComponent(e.toString().toLowerCase().replace(/\s+/g,"-").replace(s,(function(e){return"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}}}},70856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u}),s(98010),s(52327);var a=s(74662),i=s(26495),r=s(51658),o=s(4834),n=s(79928);const l={name:"aleCategories",mixins:[a.Z,i.Z,n.Z],components:{pageTitle:r.Z,libraryWishlistSwitcher:o.Z},data:function(){return{categories:null,listReady:!1,pageTitle:"Categories",pageSubTitle:null}},beforeCreate:function(){this.$store.commit("prop",{key:"pageCollection",value:[]}),this.$store.commit("prop",{key:"mutatingCollection",value:[]})},created:function(){this.makeCollection()},watch:{"$store.state.sticky.subPageSource":function(e){this.makeCollection()}},methods:{getRandomBooks:function(e,t){var s=_.filter(e,(function(e){return e.categories&&e.categories.length>1&&e.cover}));return _.sampleSize(s,t)},makeCollection:function(){var e=this,t={parent:[]};_.each(this.findSubPageSource(),(function(s,a){if(s.categories){var i=s.categories[0].name,r=_.find(t.parent,["name",i]);if(r||(r=t.parent.push({name:i,slug:e.slugify(i),books:[]})),(r=_.find(t.parent,["name",i])).books.push(s),s.categories[1]){r.sub||(r.sub=[]);var o=s.categories[1].name,n=_.find(r.sub,["name",o]);n||(n=r.sub.push({name:o,slug:e.slugify(o),books:[]})),(n=_.find(r.sub,["name",o])).books.push(s)}}})),t.parent=_.orderBy(t.parent,"name","asc"),_.each(t.parent,(function(e,t){e.sub=_.orderBy(e.sub,"name","asc")})),this.categories=t.parent,this.$store.commit("prop",{key:"pageCollection",value:[]}),this.$store.commit("prop",{key:"mutatingCollection",value:[]}),this.listReady=!0}}},u=(0,s(40810).Z)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.listReady?s("div",{staticClass:"box-layout-wrapper",attrs:{id:"ale-categories"}},[e.pageTitle||e.pageSubTitle?s("page-title",{attrs:{pageTitle:e.pageTitle,pageSubTitle:e.pageSubTitle}}):e._e(),e._v(" "),s("library-wishlist-switcher"),e._v(" "),e._l(e.categories,(function(t,a){return t&&t.name?s("div",{key:t.name,staticClass:"single-box",attrs:{"data-category":t.name}},[s("h2",[t.slug?s("router-link",{attrs:{to:{name:"category",params:{parent:t.slug},query:{subPageSource:e.$store.state.sticky.subPageSource}}}},[e._v("\n        "+e._s(t.name)+"\n      ")]):s("span",[e._v(e._s(t.name))])],1),e._v(" "),t.slug?s("router-link",{staticClass:"books-total",attrs:{to:{name:"category",params:{parent:t.slug},query:{subPageSource:e.$store.state.sticky.subPageSource}}}},[t.books?s("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{ placement: 'right' }"}],attrs:{content:"Total number of books in this category."},domProps:{innerHTML:e._s(t.books.length)}}):e._e()]):t.books?s("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{ placement: 'right' }"}],attrs:{content:"Total number of books in this category."},domProps:{innerHTML:e._s(t.books.length)}}):e._e(),e._v(" "),t.sub?s("div",{staticClass:"child-categories"},e._l(t.sub,(function(a,i){return a&&a.name?s("div",{key:a.name},[t&&t.slug&&a&&a.slug?s("router-link",{attrs:{to:{name:"category",params:{parent:t.slug,child:a.slug},query:{subPageSource:e.$store.state.sticky.subPageSource}}}},[e._v("\n          "+e._s(a.name)+"\n        ")]):s("span"),e._v(" "),a.books?s("span",{staticClass:"number-of-books"},[e._v("("+e._s(a.books.length)+")")]):e._e()],1):e._e()})),0):e._e(),e._v(" "),s("div",{staticClass:"sample-covers"},e._l(e.getRandomBooks(t.books,5),(function(a,i){return t&&t.books?s("div",{key:a.asin,staticClass:"sample-cover"},[s("router-link",{attrs:{to:{name:"category",params:{parent:a.categories[0]?e.slugify(a.categories[0].name):null,child:a.categories[1]?e.slugify(a.categories[1].name):null},query:{book:a.asin,subPageSource:e.$store.state.sticky.subPageSource}}}},[s("img",{attrs:{src:e.makeCoverUrl(a.cover),alt:""}})])],1):e._e()})),0)],1):e._e()}))],2):e._e()}),[],!1,null,"0c727767",null).exports},4834:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(40810).Z)({name:"libraryWishlistSwitcher",props:["aboveSearch"],created:function(){this.$route.query.subPageSource!==this.$store.state.sticky.subPageSource&&this.$store.state.library[this.$route.query.subPageSource]&&this.$store.commit("stickyProp",{key:"subPageSource",value:this.$route.query.subPageSource})},methods:{switcher:function(e){this.$updateQuery({query:"subPageSource",value:e}),this.$store.commit("stickyProp",{key:"subPageSource",value:e})}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$route.meta.subPage&&!e.$route.meta.gallery&&e.$store.state.library.books&&e.$store.state.library.wishlist?s("div",{class:{"above-search":e.aboveSearch},attrs:{id:"library-wishlist-switcher"}},[s("button",{class:{active:"books"===e.$store.state.sticky.subPageSource},on:{click:function(t){return e.switcher("books")}}},[e._v("\n    Library\n  ")]),e._v(" "),s("button",{class:{active:"wishlist"===e.$store.state.sticky.subPageSource},on:{click:function(t){return e.switcher("wishlist")}}},[e._v("\n    Wishlist\n  ")])]):e._e()}),[],!1,null,"6d79cf16",null).exports},51658:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const a={name:"pageTitle",props:["pageTitle","pageSubTitle"],mounted:function(){this.pageTitle&&(this.$route.meta.title||""===this.$route.meta.title)&&(document.title="ALE • "+(this.$route.meta.title===this.pageTitle?this.pageTitle:this.$route.meta.title+": "+this.pageTitle)),this.pageTitle&&this.$store.commit("prop",{key:"pageTitle",value:this.pageTitle})},beforeDestroy:function(){this.$store.commit("prop",{key:"pageTitle",value:null})}},i=(0,s(40810).Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.pageTitle||e.pageSubTitle?s("div",{staticClass:"gallery-title-wrapper"},[e.pageTitle?s("h2",{staticClass:"gallery-title"},[e._v("\n    "+e._s(e.pageTitle)+"\n  ")]):e._e(),e._v(" "),s("div",{staticClass:"divider"}),e._v(" "),e.pageSubTitle?s("h3",{staticClass:"gallery-sub-title"},[e._v("\n    "+e._s(e.pageSubTitle)+"\n  ")]):e._e()]):e._e()}),[],!1,null,null,null).exports}}]);